(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){},54:function(e,a,t){},55:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},62:function(e,a,t){},63:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(2),c=t.n(n),s=t(24),r=t.n(s),i=t(4),l=t(6),o=(t(45),t(9)),d=(t(46),t(47),t(0)),j=function(){var e=Object(o.g)();return Object(d.jsx)("div",{className:"welcome",children:Object(d.jsx)("div",{className:"welcome-button-container",children:Object(d.jsx)("button",{className:"welcome-button",type:"button",onClick:function(){e.push("/home/page-1")},children:"Press to continue..."})})})},m=(t(54),function(){return Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)("div",{className:"navbar-title-container",children:Object(d.jsx)("h2",{className:"navbar-title",children:"HenryGames"})}),Object(d.jsxs)("div",{className:"navbar-menu",children:[Object(d.jsx)("div",{className:"navbar-link-container",children:Object(d.jsx)(i.b,{to:"/home/page-1",className:"navbar-link",children:Object(d.jsx)("div",{className:"navbar-button",children:"Home"})})}),Object(d.jsx)("div",{className:"navbar-link-container",children:Object(d.jsx)(i.b,{to:"/new-game",className:"navbar-link",children:Object(d.jsx)("div",{className:"navbar-button",children:"New Game"})})}),Object(d.jsx)("div",{className:"navbar-link-container",children:Object(d.jsx)(i.b,{to:"/about",className:"navbar-link",children:Object(d.jsx)("div",{className:"navbar-button",children:"About"})})})]})]})}),b=t(8),u=(t(55),t(56),function(e){var a=e.newSearch,t=e.allowSearch,n=e.handleNewSearch,c=e.handleSearch;return Object(d.jsxs)("div",{className:"searchbar",children:[Object(d.jsx)("div",{className:"searchbar-title-container",children:Object(d.jsx)("h2",{className:"searchbar-title",children:"Search for a game"})}),Object(d.jsxs)("div",{className:"searchbar-input-container",children:[Object(d.jsx)("input",{className:"searchbar-input",type:"search",value:a,onChange:n,placeholder:"Title of the game...",spellCheck:"true"}),Object(d.jsx)("button",{className:"searchbar-button",type:"button",disabled:!t,onClick:c,children:"Search"})]})]})}),h=(t(57),function(e){var a=e.genres,t=e.sort,n=e.order,c=e.filterOrigin,s=e.filterGenres,r=e.handleFilterGenres,i=e.handleFilterOrigin,l=e.handleSort,o=e.handleOrder;return Object(d.jsxs)("div",{className:"options",children:[Object(d.jsxs)("div",{className:"option-container",children:[Object(d.jsx)("h4",{className:"sort-by",children:"Sort by"}),Object(d.jsxs)("div",{className:"input-container",children:[Object(d.jsxs)("div",{className:"option-input-container",children:[Object(d.jsx)("input",{className:"option-input",id:"options-name",type:"radio",name:"BY_NAME",onChange:l,checked:"BY_NAME"===t}),Object(d.jsx)("label",{className:"option-input",htmlFor:"options-name",children:"Name"})]}),Object(d.jsxs)("div",{className:"option-input-container",children:[Object(d.jsx)("input",{className:"option-input",id:"options-rating",type:"radio",name:"BY_RATING",onChange:l,checked:"BY_RATING"===t}),Object(d.jsx)("label",{className:"option-input",htmlFor:"options-rating",children:"Rating"})]})]})]}),Object(d.jsxs)("div",{className:"option-container",children:[Object(d.jsx)("h4",{className:"order",children:"Order"}),Object(d.jsxs)("div",{className:"input-container",children:[Object(d.jsxs)("div",{className:"option-input-container",children:[Object(d.jsx)("input",{className:"option-input",id:"options-ascending",type:"radio",name:"ASC",onChange:o,checked:"ASC"===n}),Object(d.jsx)("label",{className:"option-input",htmlFor:"options-ascending",children:"Ascending"})]}),Object(d.jsxs)("div",{className:"option-input-container",children:[Object(d.jsx)("input",{className:"option-input",id:"options-descending",type:"radio",name:"DESC",onChange:o,checked:"DESC"===n}),Object(d.jsx)("label",{className:"option-input",htmlFor:"options-descending",children:"Descending"})]})]})]}),Object(d.jsxs)("div",{className:"option-container",children:[Object(d.jsx)("h4",{className:"show",children:"Show"}),Object(d.jsxs)("div",{className:"input-container",children:[Object(d.jsxs)("div",{className:"option-input-container",children:[Object(d.jsx)("input",{className:"option-input",id:"user-games-only",type:"radio",name:"USER",onChange:i,checked:"USER"===c}),Object(d.jsx)("label",{className:"option-input",htmlFor:"user-games-only",children:"User games only"})]}),Object(d.jsxs)("div",{className:"option-input-container",children:[Object(d.jsx)("input",{className:"option-input",id:"app-games-only",type:"radio",name:"APP",onChange:i,checked:"APP"===c}),Object(d.jsx)("label",{className:"option-input",htmlFor:"app-games-only",children:"App games only"})]}),Object(d.jsxs)("div",{className:"option-input-container",children:[Object(d.jsx)("input",{className:"option-input",id:"user-and-app-games",type:"radio",name:"BOTH",onChange:i,checked:"BOTH"===c}),Object(d.jsx)("label",{className:"option-input",htmlFor:"user-and-app-games",children:"Both"})]})]})]}),Object(d.jsxs)("div",{className:"option-genres",children:[Object(d.jsx)("h4",{className:"genres",children:"Genres"}),Object(d.jsx)("div",{className:"filter-genres",children:(null===a||void 0===a?void 0:a.length)>0?a.map((function(e){return Object(d.jsxs)("div",{className:"filter-genre",children:[Object(d.jsx)("input",{className:"option-input",id:"options-genres-".concat(e.id),type:"checkbox",name:e.name,onChange:r,checked:!!s.includes(e.name)},"options-genres-input-".concat(e.id)),Object(d.jsx)("label",{className:"option-input",htmlFor:"options-genres-".concat(e.id),children:e.name},"options-genres-label-".concat(e.id))]},"options-genres-div-".concat(e.id))})):null!==a&&void 0!==a&&a.msg?Object(d.jsx)("h4",{className:"genres-not-found",children:a.msg}):Object(d.jsx)("h4",{children:"Loading genres..."})})]})]})}),p=t(11),O=function(e,a){return e.includes(a)?e.filter((function(e){return e!==a})):[].concat(Object(p.a)(e),[a]).sort()},g=function(e,a){return e.includes(a)?e.filter((function(e){return e!==a})):[].concat(Object(p.a)(e),[a]).sort()},f=function(e){var a=Number(Number(e.target.value).toFixed(2));return""!==e.target.value?a:""},x=function(e){return{id:e.id,name:e.name,rating:e.rating,image:e.image,platforms:e.platforms}},v=t(10),N=t(15),w=t(72),y="GET_ALL_GENRES",S="GET_ALL_PLATFORMS",E="GET_ALL_GAMES",G="SEARCH_GAMES",k="GET_DETAIL",z="ADD_GAME",A="DELETE_GAME",C="FILTER_BY_GENRES",_="FILTER_BY_ORIGIN",T="SORT_BY_NAME",F="SORT_BY_RATING",R="REVERT",I="SWITCH_VIEWS",L=function(e){return function(a){a({type:z,payload:e})}},B=function(e){return function(a){a({type:A,payload:e})}},U=function(e){return function(a){a({type:T,payload:e})}},D=function(e){return function(a){a({type:F,payload:e})}},P=function(e){return function(a){a({type:I,payload:e})}},M=function(){var e=Object(l.c)((function(e){return e.currentView})),a=Object(l.c)((function(e){return e.genres})),t=Object(l.c)((function(e){return e.newGame})),c=Object(n.useState)(""),s=Object(b.a)(c,2),r=s[0],i=s[1],j=Object(n.useState)(!1),m=Object(b.a)(j,2),p=m[0],g=m[1],f=Object(n.useState)("BY_NAME"),x=Object(b.a)(f,2),y=x[0],S=x[1],E=Object(n.useState)("ASC"),k=Object(b.a)(E,2),z=k[0],A=k[1],T=Object(n.useState)("BOTH"),F=Object(b.a)(T,2),I=F[0],L=F[1],B=Object(n.useState)([]),P=Object(b.a)(B,2),M=P[0],V=P[1],H=Object(n.useState)(!1),Y=Object(b.a)(H,2),W=Y[0],X=Y[1],J=Object(o.g)(),Z=Object(l.b)();return Object(n.useEffect)((function(){r.length>0?g(!0):g(!1)}),[r]),Object(n.useEffect)((function(){var e;Z((function(e){e({type:R})})),Z(function(e){return function(a){a({type:C,payload:e})}}(M)),Z((e=I,function(a){a({type:_,payload:e})})),"BY_NAME"===y&&"ASC"===z&&Z(U(!1)),"BY_NAME"===y&&"DESC"===z&&Z(U(!0)),"BY_RATING"===y&&"ASC"===z&&Z(D(!1)),"BY_RATING"===y&&"DESC"===z&&Z(D(!0)),window.location.href.includes("/new-game")||window.location.href.includes("/detail")||window.location.href.includes("/about")||window.location.href.includes("/update-game")||window.location.href.includes("/page-1")||X(!0)}),[Z,y,z,I,M,t,e]),Object(n.useEffect)((function(){window.location.href.includes("/page-1")&&X(!1)}),[W]),Object(d.jsxs)("div",{className:"panel",children:[W&&Object(d.jsx)(o.a,{to:"/".concat(e.toLowerCase(),"/page-1")}),Object(d.jsx)("div",{className:"searchbar-container",children:Object(d.jsx)(u,{newSearch:r,allowSearch:p,handleNewSearch:function(e){var a=e.target.value;i(a)},handleSearch:function(){var e;Z((e=r,function(){var a=Object(N.a)(Object(v.a)().mark((function a(t){var n;return Object(v.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w.a.get("/videogames?name=".concat(e));case 3:n=a.sent,t({type:G,payload:n.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0),t({type:G,payload:[a.t0.response.data]});case 11:case 12:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}())),i(""),g(!1),J.push("/search/page-1")}})}),Object(d.jsx)("div",{className:"options-container",children:["HOME","SEARCH"].includes(e)?Object(d.jsx)(h,{genres:a,sort:y,order:z,filterOrigin:I,filterGenres:M,handleFilterGenres:function(e){var a=e.target.name;V(O(M,a))},handleFilterOrigin:function(e){var a=e.target.name;L(a)},handleSort:function(e){var a=e.target.name;S(a)},handleOrder:function(e){var a=e.target.name;A(a)}}):null})]})},V=(t(62),t(63),function(e){var a=e.id,t=e.name,n=e.rating,c=e.image,s=e.genres;return Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)("div",{className:"game-image-container",children:Object(d.jsx)(i.b,{to:"/detail/".concat(a),children:Object(d.jsx)("img",{className:"game-image",src:c,alt:"".concat(t," [cover]")})})}),Object(d.jsxs)("div",{className:"game-main-container",children:[Object(d.jsx)("h4",{className:"game-title",children:t}),Object(d.jsxs)("h4",{className:"game-rating",children:["Rating: ",n]}),Object(d.jsxs)("div",{className:"game-genres-container",children:[Object(d.jsx)("h4",{className:"game-genres-title",children:"Genres:"}),(null===s||void 0===s?void 0:s.length)>0?s.map((function(e){return Object(d.jsx)("div",{className:"game-genre",children:e},"game-genres-li-".concat(e))})):Object(d.jsx)("h4",{className:"game-no-genres",children:"No genres"})]})]})]})}),H=(t(64),function(e){var a=e.pageNumbers,t=e.currentPageNumber,n=e.currentView;return Object(d.jsxs)("div",{className:"pagebar",children:[1!==t?Object(d.jsx)(i.b,{className:"page-enabled",to:"/".concat(n,"/page-1"),children:Object(d.jsx)("div",{children:"First"})}):Object(d.jsx)("div",{className:"page-disabled",children:"First"}),1!==t?Object(d.jsx)(i.b,{className:"page-enabled",to:"/".concat(n,"/page-").concat(t-1),children:Object(d.jsx)("div",{children:"Previous"})}):Object(d.jsx)("div",{className:"page-disabled",children:"Previous"}),1===t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"no-number",children:"0"}),Object(d.jsx)("div",{className:"no-number",children:"0"}),Object(d.jsx)("div",{className:"no-number",children:"0"})]}):null,2===t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"no-number",children:"0"}),Object(d.jsx)("div",{className:"no-number",children:"0"}),Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-1"),children:Object(d.jsx)("div",{children:"1"})})]}):null,3===t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"no-number",children:"0"}),Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-1"),children:Object(d.jsx)("div",{children:"1"})}),Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-2"),children:Object(d.jsx)("div",{children:"2"})})]}):null,t>3?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-").concat(t-3),children:Object(d.jsx)("div",{children:t-3})}),Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-").concat(t-2),children:Object(d.jsx)("div",{children:t-2})}),Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-").concat(t-1),children:Object(d.jsx)("div",{children:t-1})})]}):null,Object(d.jsx)("div",{className:"current-page",children:t}),t<a.length-2?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-").concat(t+1),children:Object(d.jsx)("div",{children:t+1})}),Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-").concat(t+2),children:Object(d.jsx)("div",{children:t+2})}),Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-").concat(t+3),children:Object(d.jsx)("div",{children:t+3})})]}):null,t===a.length-2?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-").concat(t+1),children:Object(d.jsx)("div",{children:t+1})}),Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-").concat(t+2),children:Object(d.jsx)("div",{children:t+2})}),Object(d.jsx)("div",{className:"no-number",children:"0"})]}):null,t===a.length-1?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.b,{className:"page-number",to:"/".concat(n,"/page-").concat(t+1),children:Object(d.jsx)("div",{children:t+1})}),Object(d.jsx)("div",{className:"no-number",children:"0"}),Object(d.jsx)("div",{className:"no-number",children:"0"})]}):null,t===a.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"no-number",children:"0"}),Object(d.jsx)("div",{className:"no-number",children:"0"}),Object(d.jsx)("div",{className:"no-number",children:"0"})]}):null,t!==a.length?Object(d.jsx)(i.b,{className:"page-enabled",to:"/".concat(n,"/page-").concat(t+1),children:Object(d.jsx)("div",{children:"Next"})}):Object(d.jsx)("div",{className:"page-disabled",children:"Next"}),t!==a.length?Object(d.jsx)(i.b,{className:"page-enabled",to:"/".concat(n,"/page-").concat(a.length),children:Object(d.jsx)("div",{children:"Last"})}):Object(d.jsx)("div",{className:"page-disabled",children:"Last"})]})}),Y=function(e){for(var a=[],t=Math.ceil(e.length/15),n=0,c=15;t>0;){var s=e.slice(n,c);a.push(s),n+=15,c+=15,t-=1}return a},W=function(e){for(var a=1,t=[];a<=e;)t.push(a),a++;return t},X=function(){var e,a,t=Object(l.c)((function(e){return e.homeGames})),c=Object(l.c)((function(e){return e.searchGames})),s=Object(l.c)((function(e){return e.currentView})),r=Object(o.h)().page,i=Number(r.slice(5)),j="SEARCH"===s?c:t,m=Y(j),b=W(m.length),u=m[i-1],h=Object(l.b)();return Object(n.useEffect)((function(){"START"===s&&(h(function(){var e=Object(N.a)(Object(v.a)().mark((function e(a){var t;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/videogames");case 3:t=e.sent,a({type:E,payload:t.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),a({type:E,payload:[e.t0.response.data]});case 11:case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()),h(function(){var e=Object(N.a)(Object(v.a)().mark((function e(a){var t;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/genres");case 3:t=e.sent,a({type:y,payload:t.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),a({type:y,payload:e.t0.response.data});case 11:case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()),h(function(){var e=Object(N.a)(Object(v.a)().mark((function e(a){var t;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/platforms");case 3:t=e.sent,a({type:S,payload:t.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),a({type:S,payload:e.t0.response.data});case 11:case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}())),["HOME","SEARCH"].includes(s)||h(P("HOME")),window.scrollTo(0,0)}),[h,r,s]),Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)("div",{className:"home-games",children:(null===(e=j[0])||void 0===e||!e.msg)&&(null===u||void 0===u?void 0:u.length)>0?u.map((function(e){return Object(d.jsx)("div",{className:"game-container",children:Object(d.jsx)(V,{id:e.id,name:e.name,rating:e.rating,image:e.image,genres:e.genres},"home-currentpagegames-game-".concat(e.id))},"home-currentpagegames-div-".concat(e.id))})):null!==(a=j[0])&&void 0!==a&&a.msg?Object(d.jsx)("h4",{className:"no-results",children:j[0].msg}):Object(d.jsx)("h4",{children:"Loading games..."})}),Object(d.jsx)("div",{className:"pagebar-container",children:Object(d.jsx)(H,{pageNumbers:b,currentPageNumber:i,currentView:s.toLowerCase()})})]})},J=(t(65),t(31)),Z=function(){var e,a,t=Object(l.c)((function(e){return e.detail})),c=Object(n.useState)(!1),s=Object(b.a)(c,2),r=s[0],i=s[1],j=Object(n.useState)(!1),m=Object(b.a)(j,2),u=m[0],h=m[1],p=Object(o.h)().id,O=Object(J.isValidUUIDV4)(p),g=Object(l.b)(),f=function(){var e=Object(N.a)(Object(v.a)().mark((function e(){var a;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=window.confirm('Are you sure you want to delete "'.concat(t.name,'"?')))){e.next=4;break}return e.next=4,w.a.delete("/videogame/".concat(p));case 4:g(B(p)),i(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){g(function(e){return function(){var a=Object(N.a)(Object(v.a)().mark((function a(t){var n;return Object(v.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w.a.get("/videogame/".concat(e));case 3:n=a.sent,t({type:k,payload:n.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0),t({type:k,payload:a.t0.response.data});case 11:case 12:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(p)),window.scrollTo(0,0)}),[g,p]),Object(d.jsxs)("div",{className:"detail-container",children:[r&&Object(d.jsx)(o.a,{to:"/home/page-1"}),u&&Object(d.jsx)(o.a,{to:"/update-game/".concat(p)}),null!==t&&void 0!==t&&t.msg?Object(d.jsx)("h4",{className:"game-not-found",children:t.msg}):Object(d.jsxs)("div",{className:"detail",children:[Object(d.jsx)("h2",{className:"detail-title",children:t.name}),Object(d.jsx)("div",{className:"detail-image-container",children:Object(d.jsx)("img",{className:"detail-image",src:t.image,alt:"".concat(t.name," [cover]")})}),Object(d.jsxs)("div",{className:"detail-main-container",children:[Object(d.jsxs)("h4",{className:"detail-r-r",children:["Rating: ",t.rating]}),Object(d.jsxs)("h4",{className:"detail-r-r",children:["Released: ",t.released]}),Object(d.jsxs)("div",{className:"detail-genres-container",children:[Object(d.jsx)("h4",{className:"detail-genres-title",children:"Genres:"}),Object(d.jsx)("div",{className:"detail-genres",children:(null===t||void 0===t||null===(e=t.genres)||void 0===e?void 0:e.length)>0?t.genres.map((function(e){return Object(d.jsx)("div",{className:"detail-genre",children:e},"detail-genres-li-".concat(e))})):Object(d.jsx)("h4",{className:"detail-no-genres",children:"No genres"})})]}),Object(d.jsxs)("div",{className:"detail-platforms-container",children:[Object(d.jsx)("h4",{className:"detail-platforms-title",children:"Platforms:"}),Object(d.jsx)("div",{className:"detail-platforms",children:(null===t||void 0===t||null===(a=t.platforms)||void 0===a?void 0:a.length)>0?t.platforms.map((function(e){return Object(d.jsx)("div",{className:"detail-platform",children:e},"detail-platforms-li-".concat(e))})):Object(d.jsx)("h4",{className:"platform-no-platforms",children:"No platforms"})})]})]}),Object(d.jsx)("div",{className:"plot-container",children:Object(d.jsx)("p",{children:t.plot})}),Object(d.jsxs)("div",{className:"detail-button-container",children:[Object(d.jsx)("button",{className:"detail-button",type:"button",disabled:!O,onClick:f,children:"Delete"}),Object(d.jsx)("button",{className:"detail-button",type:"button",disabled:!O,onClick:function(){var e=window.confirm('Are you sure you want to update "'.concat(t.name,'"?'));h(e)},children:"Update"})]}),Object(d.jsx)("div",{className:"detail-output-container",children:O?Object(d.jsx)("p",{className:"detail-no-output",children:Object(d.jsx)("small",{children:"zzz"})}):Object(d.jsx)("p",{className:"detail-output",children:Object(d.jsx)("small",{children:"Only user-created games can be updated or deleted."})})})]})]})},q=(t(66),t(67),(new Date).toLocaleDateString("en-ca")),$=function(e){var a=e.platforms,t=e.genres,n=e.newGame,c=e.errors,s=e.allowSubmit,r=e.responseSubmit,i=e.handleChange,l=e.handleSubmit,o=e.formPurpose;return Object(d.jsxs)("div",{className:"new-form",children:[Object(d.jsx)("h2",{className:"new-form-title",children:o}),Object(d.jsxs)("div",{className:"new-field-container",children:[Object(d.jsx)("label",{className:"new-field-label",htmlFor:"form-name",children:"*Name:"}),Object(d.jsx)("input",{className:"new-input",id:"form-name",type:"text",name:"name",value:n.name,onChange:i,size:"70"})]}),Object(d.jsx)("div",{className:"new-field-error-container",children:c.name?Object(d.jsx)("p",{className:"new-field-error",children:Object(d.jsx)("small",{children:c.name})}):Object(d.jsx)("p",{className:"new-no-error",children:Object(d.jsx)("small",{children:"zzz"})})}),Object(d.jsxs)("div",{className:"new-field-container",children:[Object(d.jsx)("label",{className:"new-field-label",htmlFor:"form-plot",children:"*Plot:"}),Object(d.jsx)("textarea",{className:"new-input",id:"form-plot",rows:"12",name:"plot",value:n.plot,onChange:i,cols:"70"})]}),Object(d.jsx)("div",{className:"new-field-error-container",children:c.plot?Object(d.jsx)("p",{className:"new-field-error",children:Object(d.jsx)("small",{children:c.plot})}):Object(d.jsx)("p",{className:"new-no-error",children:Object(d.jsx)("small",{children:"zzz"})})}),Object(d.jsxs)("div",{className:"new-field-container",children:[Object(d.jsx)("label",{className:"new-field-label",htmlFor:"form-released",children:"Released:"}),Object(d.jsx)("input",{className:"new-input",id:"form-released",type:"date",name:"released",value:n.released,onChange:i,max:q})]}),Object(d.jsx)("div",{className:"new-field-error-container",children:c.released?Object(d.jsx)("p",{className:"new-field-error",children:Object(d.jsx)("small",{children:c.released})}):Object(d.jsx)("p",{className:"new-no-error",children:Object(d.jsx)("small",{children:"zzz"})})}),Object(d.jsxs)("div",{className:"new-field-container",children:[Object(d.jsx)("label",{className:"new-field-label",htmlFor:"form-rating",children:"Rating:"}),Object(d.jsx)("input",{className:"new-input",id:"form-rating",type:"number",name:"rating",value:n.rating,onChange:i,min:"0",max:"5",step:"0.01"})]}),Object(d.jsx)("div",{className:"new-field-error-container",children:c.rating?Object(d.jsx)("p",{className:"new-field-error",children:Object(d.jsx)("small",{children:c.rating})}):Object(d.jsx)("p",{className:"new-no-error",children:Object(d.jsx)("small",{children:"zzz"})})}),Object(d.jsxs)("div",{className:"new-field-container",children:[Object(d.jsx)("label",{className:"new-field-label",htmlFor:"form-image",children:"Image:"}),Object(d.jsx)("input",{className:"new-input",id:"form-image",type:"url",name:"image",value:n.image,onChange:i,placeholder:"https://www.example.com/game-image.jpg",size:"70"})]}),Object(d.jsx)("div",{className:"new-field-error-container",children:c.image?Object(d.jsx)("p",{className:"new-field-error",children:Object(d.jsx)("small",{children:c.image})}):Object(d.jsx)("p",{className:"new-no-error",children:Object(d.jsx)("small",{children:"zzz"})})}),Object(d.jsxs)("div",{className:"new-genres-container",children:[Object(d.jsx)("label",{className:"new-field-label",children:"Genres:"}),Object(d.jsx)("div",{className:"new-genres",children:(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){var a=!1;return n.genres.includes(e.name)&&(a=!0),Object(d.jsxs)("div",{className:"new-genre",children:[Object(d.jsx)("input",{className:"new-genre-input",id:"form-genres-".concat(e.id),type:"checkbox",name:e.name,onChange:i,checked:a},"form-genres-input-".concat(e.id)),Object(d.jsx)("label",{className:"new-genre-input",htmlFor:"form-genres-".concat(e.id),children:e.name},"form-genres-label-".concat(e.id))]},"form-genres-div-".concat(e.id))})):null!==t&&void 0!==t&&t.msg?Object(d.jsx)("h4",{className:"genres-not-available",children:t.msg}):Object(d.jsx)("h4",{children:"Loading genres..."})})]}),Object(d.jsx)("div",{className:"new-field-error-container",children:c.genres?Object(d.jsx)("p",{className:"new-field-error",children:Object(d.jsx)("small",{children:c.genres})}):Object(d.jsx)("p",{className:"new-no-error",children:Object(d.jsx)("small",{children:"zzz"})})}),Object(d.jsxs)("div",{className:"new-platforms-container",children:[Object(d.jsx)("label",{className:"new-field-label",children:"*Platforms:"}),Object(d.jsx)("div",{className:"new-platforms",children:(null===a||void 0===a?void 0:a.length)>0?a.map((function(e){var a=!1;return n.platforms.includes(e.name)&&(a=!0),Object(d.jsxs)("div",{className:"new-platform",children:[Object(d.jsx)("input",{className:"new-platform-input",id:"form-platforms-".concat(e.id),type:"checkbox",name:e.name,onChange:i,checked:a},"form-platforms-input-".concat(e.id)),Object(d.jsx)("label",{className:"new-platform-input",htmlFor:"form-platforms-".concat(e.id),children:e.name},"form-platforms-label-".concat(e.id))]},"form-platforms-div-".concat(e.id))})):null!==a&&void 0!==a&&a.msg?Object(d.jsx)("h4",{className:"platfomrs-not-available",children:a.msg}):Object(d.jsx)("h4",{children:"Loading platforms..."})})]}),Object(d.jsx)("div",{className:"new-platforms-error-container",children:c.platforms?Object(d.jsx)("p",{className:"new-field-error",children:Object(d.jsx)("small",{children:c.platforms})}):Object(d.jsx)("p",{className:"new-no-error",children:Object(d.jsx)("small",{children:"zzz"})})}),Object(d.jsxs)("div",{className:"new-button-container",children:[Object(d.jsx)("button",{className:"new-button",type:"button",disabled:!s,onClick:l,children:o}),Object(d.jsx)("div",{className:"new-form-output-container",children:r?Object(d.jsx)("p",{className:"new-form-output",children:Object(d.jsx)("small",{children:r})}):Object(d.jsx)("p",{className:"new-no-output",children:Object(d.jsx)("small",{children:"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz"})})})]})]})},K=/[-a-zA-Z0-9@:%._~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_.~#?&//=]*)/,Q=function(e,a,t){return e.length<75||e.length>300?"'Plot' must be between 75 and 300 characters long.":!t&&a.some((function(a){return a.plot===e}))?"The game with the provided plot already exists.":""},ee=/^\d{4}[-/\s]?((((0[13578])|(1[02]))[-/\s]?(([0-2][0-9])|(3[01])))|(((0[469])|(11))[-/\s]?(([0-2][0-9])|(30)))|(02[-/\s]?[0-2][0-9]))$/,ae=function(e,a){var t=a.map((function(e){return e.name}));return e.length<1||e.every((function(e){return t.includes(e)}))?"":"All values must be valid gaming genres."},te=function(e,a,t){return""===e?"":K.test(e)?e.length<30||e.length>300?"If provided, 'Image' must be between 30 and 300 characters long.":!t&&a.some((function(a){return a.image===e}))?"The game with the provided URL already exists.":"":"If provided, 'Image' must be an URL."},ne=function(e,a,t){var n="The game with the name '".concat(e,"' already exists.");return e.length<3||e.length>75?"'Name' must be between 3 and 75 characters long.":!t&&a.some((function(a){return a.name===e}))?n:""},ce=function(e,a){var t=a.map((function(e){return e.name}));return e.length<1?"At least one value must be provided for 'platforms'.":e.every((function(e){return t.includes(e)}))?"":"All values must be valid gaming platforms."},se=Q,re=function(e){return""===e?"":Number.isNaN(Number(e))||e<0||e>5?"If provided, 'rating' must be a number between 0 and 5 inclusive":""},ie=function(e){return 0===e.length?"":ee.test(e)?Date.parse(e)>Date.now()?"If provided, 'released' cannot be later than current date.":"":"If provided, 'released' format must be 'yyyy-mm-dd'."},le={name:"",plot:"",released:"",rating:"",image:"",platforms:"",genres:""},oe=function(){var e=Object(l.c)((function(e){return e.platforms})),a=Object(l.c)((function(e){return e.genres})),t=Object(l.c)((function(e){return e.homeGames})),c=Object(l.c)((function(e){return e.detail})),s={name:c.name,plot:c.plot,released:c.released,rating:c.rating,image:c.image,platforms:c.platforms,genres:c.genres},r=Object(n.useState)(s),i=Object(b.a)(r,2),j=i[0],m=i[1],u=Object(n.useState)(le),h=Object(b.a)(u,2),p=h[0],x=h[1],y=Object(n.useState)(!1),S=Object(b.a)(y,2),E=S[0],G=S[1],k=Object(n.useState)(""),z=Object(b.a)(k,2),A=z[0],C=z[1],_=Object(o.h)().id,T=e.map((function(e){return e.name})),F=a.map((function(e){return e.name})),R=Object(l.b)(),I=function(){var e=Object(N.a)(Object(v.a)().mark((function e(){var a;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.values(p).some((function(e){return""!==e}))){e.next=3;break}return e.abrupt("return",C("Form submission was canceled, please check provided data."));case 3:return e.next=5,w.a.put("/videogame/".concat(_),j);case 5:if(a=e.sent,C(a.data.msg),200===a.status){e.next=9;break}return e.abrupt("return");case 9:R(L(a.data.updated));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){R(P("NEW_GAME")),window.scrollTo(0,0)}),[R]),Object(n.useEffect)((function(){x({name:ne(j.name,t,!0),plot:se(j.plot,t,!0),released:ie(j.released),rating:re(j.rating),image:te(j.image,t,!0),platforms:ce(j.platforms,e),genres:ae(j.genres,a)})}),[j,t,a,e]),Object(n.useEffect)((function(){Object.values(p).every((function(e){return""===e}))?G(!0):G(!1)}),[p]),Object(d.jsx)("div",{className:"update-form-container",children:Object(d.jsx)($,{platforms:e,genres:a,newGame:j,errors:p,allowSubmit:E,responseSubmit:A,handleChange:function(e){m({name:"name"===e.target.name?e.target.value:j.name,plot:"plot"===e.target.name?e.target.value:j.plot,released:"released"===e.target.name?e.target.value:j.released,rating:"rating"===e.target.name?f(e):j.rating,image:"image"===e.target.name?e.target.value:j.image,platforms:T.includes(e.target.name)?g(j.platforms,e.target.name):j.platforms,genres:F.includes(e.target.name)?O(j.genres,e.target.name):j.genres}),C("")},handleSubmit:I,formPurpose:"Update game"})})},de=(t(68),{name:"",plot:"",released:"",rating:"",image:"",platforms:[],genres:[]}),je=function(){var e=Object(l.c)((function(e){return e.platforms})),a=Object(l.c)((function(e){return e.genres})),t=Object(l.c)((function(e){return e.homeGames})),c=Object(n.useState)(de),s=Object(b.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)(le),j=Object(b.a)(o,2),m=j[0],u=j[1],h=Object(n.useState)(!1),p=Object(b.a)(h,2),x=p[0],y=p[1],S=Object(n.useState)(""),E=Object(b.a)(S,2),G=E[0],k=E[1],z=e.map((function(e){return e.name})),A=a.map((function(e){return e.name})),C=Object(l.b)(),_=function(){var e=Object(N.a)(Object(v.a)().mark((function e(){var a;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.values(m).some((function(e){return""!==e}))){e.next=3;break}return e.abrupt("return",k("Form submission was canceled, please check provided data."));case 3:return e.next=5,w.a.post("/videogame",r);case 5:if(a=e.sent,i(de),document.querySelectorAll("input[type='checkbox']").forEach((function(e){return e.checked=!1})),k(a.data.msg),201===a.status){e.next=11;break}return e.abrupt("return");case 11:C(L(a.data.added));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){C(P("NEW_GAME")),window.scrollTo(0,0)}),[C]),Object(n.useEffect)((function(){u({name:ne(r.name,t),plot:se(r.plot,t),released:ie(r.released),rating:re(r.rating),image:te(r.image,t),platforms:ce(r.platforms,e),genres:ae(r.genres,a)})}),[r,t,a,e]),Object(n.useEffect)((function(){Object.values(m).every((function(e){return""===e}))?y(!0):y(!1)}),[m]),Object(d.jsx)("div",{className:"new-form-container",children:Object(d.jsx)($,{platforms:e,genres:a,newGame:r,errors:m,allowSubmit:x,responseSubmit:G,handleChange:function(e){i({name:"name"===e.target.name?e.target.value:r.name,plot:"plot"===e.target.name?e.target.value:r.plot,released:"released"===e.target.name?e.target.value:r.released,rating:"rating"===e.target.name?f(e):r.rating,image:"image"===e.target.name?e.target.value:r.image,platforms:z.includes(e.target.name)?g(r.platforms,e.target.name):r.platforms,genres:A.includes(e.target.name)?O(r.genres,e.target.name):r.genres}),k("")},handleSubmit:_,formPurpose:"Add new game"})})},me=(t(69),function(){var e=Object(l.b)();return Object(n.useEffect)((function(){e(P("ABOUT")),window.scrollTo(0,0)}),[e]),Object(d.jsx)("div",{className:"about-container",children:Object(d.jsxs)("div",{className:"about",children:[Object(d.jsx)("h2",{className:"about-title",children:"About"}),Object(d.jsxs)("div",{className:"about-text-container",children:[Object(d.jsx)("p",{children:"I'm a newbie developer, and this is my first app ever. It's loosely based in a movie website which I visit very often -I'm a retro cinema fan-. I'm looking forward to your feedback..."}),Object(d.jsx)("p",{children:"Juan."})]})]})})}),be=(t(70),function(){var e=Object(o.g)();return Object(d.jsxs)("div",{className:"not-found",children:[Object(d.jsx)("div",{className:"not-found-image-container",children:Object(d.jsx)("img",{className:"not-found-image",src:"Warning-sign.png",alt:"Warning sign"})}),Object(d.jsx)("h1",{className:"not-found-title",children:"Sorry, this page does not exist."}),Object(d.jsx)("h4",{children:"Please, check the entered address and try again... or"}),Object(d.jsx)("div",{className:"not-found-button-container",children:Object(d.jsx)("button",{className:"not-found-button",type:"button",onClick:function(){e.push("/home/page-1")},children:"go back to homepage"})})]})}),ue=function(){return Object(d.jsx)("div",{className:"app",children:Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{exact:!0,path:"/",children:Object(d.jsx)(j,{})}),Object(d.jsxs)(o.b,{path:"/home/:page",className:"route",children:[Object(d.jsx)(m,{}),Object(d.jsxs)("div",{className:"underneath-navbar",children:[Object(d.jsx)(M,{}),Object(d.jsx)(X,{})]})]}),Object(d.jsxs)(o.b,{path:"/search/:page",className:"route",children:[Object(d.jsx)(m,{}),Object(d.jsxs)("div",{className:"underneath-navbar",children:[Object(d.jsx)(M,{}),Object(d.jsx)(X,{})]})]}),Object(d.jsxs)(o.b,{path:"/detail/:id",className:"route",children:[Object(d.jsx)(m,{}),Object(d.jsxs)("div",{className:"underneath-navbar",children:[Object(d.jsx)(M,{}),Object(d.jsx)(Z,{})]})]}),Object(d.jsxs)(o.b,{exact:!0,path:"/update-game/:id",className:"route",children:[Object(d.jsx)(m,{}),Object(d.jsxs)("div",{className:"underneath-navbar",children:[Object(d.jsx)(M,{}),Object(d.jsx)(oe,{})]})]}),Object(d.jsxs)(o.b,{exact:!0,path:"/new-game",className:"route",children:[Object(d.jsx)(m,{}),Object(d.jsxs)("div",{className:"underneath-navbar",children:[Object(d.jsx)(M,{}),Object(d.jsx)(je,{})]})]}),Object(d.jsxs)(o.b,{exact:!0,path:"/about",className:"route",children:[Object(d.jsx)(m,{}),Object(d.jsxs)("div",{className:"underneath-navbar",children:[Object(d.jsx)(M,{}),Object(d.jsx)(me,{})]})]}),Object(d.jsx)(o.b,{children:Object(d.jsx)(be,{})})]})})},he=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,73)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,s=a.getLCP,r=a.getTTFB;t(e),n(e),c(e),s(e),r(e)}))},pe=t(28),Oe=t(37),ge=t(5),fe=function(e,a){return a.length<1?e:e.filter((function(e){return e.genres.some((function(e){return a.includes(e)}))}))},xe=t(31).isValidUUIDV4,ve=function(e,a){return e.length<1||"BOTH"===a?e:"USER"===a?e.filter((function(e){return xe(e.id)})):e.filter((function(e){return!xe(e.id)}))},Ne=function(e,a){var t=Object(p.a)(e).sort((function(e,a){var t=e.name.toLowerCase(),n=a.name.toLowerCase();return t<n?-1:t>n?1:0}));return a&&t.reverse(),t},we=function(e,a){var t=Object(p.a)(e).sort((function(e,a){var t=e.rating,n=a.rating;return t<n?-1:t>n?1:0}));return a&&t.reverse(),t},ye={genres:[],platforms:[],homeGames:[],homeBackUp:[],searchGames:[],searchBackUp:[],currentView:"START",newGame:{},detail:{name:"",plot:"",released:"",rating:"",platforms:[],image:"",genres:[]}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case y:return Object(ge.a)(Object(ge.a)({},e),{},{genres:a.payload});case S:return Object(ge.a)(Object(ge.a)({},e),{},{platforms:a.payload});case E:return Object(ge.a)(Object(ge.a)({},e),{},{homeGames:Ne(a.payload,!1),homeBackUp:Ne(a.payload,!1)});case G:return Object(ge.a)(Object(ge.a)({},e),{},{searchGames:a.payload,searchBackUp:a.payload,currentView:"SEARCH"});case k:return Object(ge.a)(Object(ge.a)({},e),{},{detail:a.payload,currentView:"DETAIL"});case z:var t=x(a.payload),n=e.homeGames.filter((function(e){var t;return e.id!==(null===(t=a.payload)||void 0===t?void 0:t.id)}));return Object(ge.a)(Object(ge.a)({},e),{},{homeGames:[].concat(Object(p.a)(n),[t]),homeBackUp:[].concat(Object(p.a)(n),[t]),newGame:t});case A:var c=e.homeGames.filter((function(e){return e.id!==a.payload}));return Object(ge.a)(Object(ge.a)({},e),{},{homeGames:Object(p.a)(c),homeBackUp:Object(p.a)(c)});case C:return Object(ge.a)(Object(ge.a)({},e),{},{homeGames:fe(e.homeGames,a.payload),searchGames:fe(e.searchGames,a.payload)});case _:return Object(ge.a)(Object(ge.a)({},e),{},{homeGames:ve(e.homeGames,a.payload),searchGames:ve(e.searchGames,a.payload)});case T:return Object(ge.a)(Object(ge.a)({},e),{},{homeGames:Ne(e.homeGames,a.payload),searchGames:Ne(e.searchGames,a.payload)});case F:return Object(ge.a)(Object(ge.a)({},e),{},{homeGames:we(e.homeGames,a.payload),searchGames:we(e.searchGames,a.payload)});case R:return Object(ge.a)(Object(ge.a)({},e),{},{homeGames:Object(p.a)(e.homeBackUp),searchGames:Object(p.a)(e.searchBackUp)});case I:return Object(ge.a)(Object(ge.a)({},e),{},{currentView:a.payload});default:return e}},Ee=Object(pe.c)(Se,Object(pe.b)(Object(pe.a)(Oe.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));w.a.default.baseURL="https://pi-videogamesapi-production.up.railway.app/",r.a.render(Object(d.jsx)(i.a,{children:Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(l.a,{store:Ee,children:Object(d.jsx)(ue,{})})})}),document.getElementById("root")),he()}},[[71,1,2]]]);
//# sourceMappingURL=main.db9976be.chunk.js.map